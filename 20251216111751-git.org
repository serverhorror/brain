:PROPERTIES:
:ID:       034ed05e-4b52-4640-9a9b-9e021a63308c
:END:
#+title: git

* Using BitBucket Server/Datacenter git

1. Create a personal access token
2. Do this for your git configuration

   #+begin_src shell
   git config \
       --global \
       http.https://bitbucket.example.com.extraHeader \
       'Authorization: Bearer  Token'
   #+End_src

   Some more details

   #+begin_src shell
   git clone \
       -c http.extraHeader='Authorization: Bearer REPLACE_WITH_TOKEN' \
       https://bitbucket.example.com/scm/project-name/repo-name.git
   git config \
       --global http.https://bitbucket.example.com.extraHeader \
       'Authorization: Bearer  Token'
   #+end_src

   *or* (if you don't want to use the token in the header)

   #+begin_src shell
   git config --global \
       url."https://<username>:<personal-access-token>@bitbucket.example.com".insteadOf \
       "https://bitbucket.example.com"
   #+end_src

3. As your module URLs use something like this for :ref:`kb.go` projects:

   - `bitbucket.example.com/project/repo`

     **Do NOT** use the `scm` part in the URL
